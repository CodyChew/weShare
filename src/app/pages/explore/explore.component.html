<div class ="page">
    <!-- Main header  -->
    <header>

        <!-- welcome profile -->
        <div class="width container" style="padding-top: 2em;">
            <div class="image-holder" style="margin-left: 0.5em; margin-top: 0.3em;">
                <img src="{{this.userImg}}" class="image-holder">
            </div>
            <div class="profile-header">
                <div class="profile-name">
                    {{this.displayName}}
                </div>
                
                <!-- new request button -->
                <app-new-request></app-new-request>
            </div>
        </div>

        <div id="user-details" class="width container" style="color:grey; padding-left: 1em;">
            <!-- user details display -->
            <div id="user-detail-display" >
                <div>ID : {{this.userID}}</div>
                <div>email : {{this.userEmail}}</div>
                <fa-icon [icon]="faEdit" (click)="toggleUserDetailsEdit()" ></fa-icon>
            </div>

            <!-- user details edit --> 
            <form id="user-detail-edit" [formGroup]="userForm" style="display: none;"> 
                <textarea id="roomDetails" rows = "1" cols = "40"  formControlName="roomDetails" placeholder="edit room details" ></textarea>
                <textarea id="userContact" rows = "1" cols = "40"  formControlName="userContact" placeholder="update your contact" ></textarea>
                <button type="button" class="btn btn-primary" (click)="updateUserInfo()" data-dismiss="modal"> update </button>
            </form>
        </div>
        

        

        

        <!-- search bar -->
        <!-- <form id="search-bar" class="form-inline my-2 my-lg-0">
            <span>
                <input class="form-control mr-sm-2" type="search" placeholder="Search" aria-label="Search">
                <button class="btn btn-outline-success my-2 my-sm-0" type="submit">Search</button>
            </span>
        </form> -->
    </header>

    <!-- request details modal -->
    <app-request-details id="request-details" class="modal fade" tabindex="-1" role="dialog"  aria-hidden="true" ></app-request-details>

    <!-- request section -->
    <div id="request-section" style="padding:3em;" >
        <!-- requests tab -->
        <ul class="nav nav-tabs justify-content-center" id="myTab" role="tablist">
            <li class="nav-item">
                <a class="nav-link active" id="my-req-tab" data-toggle="tab" href="#my-req" role="tab"
                    aria-controls="available-req" aria-selected="true">My Requests</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" id="all-req-tab" data-toggle="tab" href="#all-req" role="tab"
                    aria-controls="all-req" aria-selected="false">All</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" id="active-req-tab" data-toggle="tab" href="#active-req" role="tab"
                    aria-controls="available-req" aria-selected="false">Active</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" id="ongoing-req-tab" data-toggle="tab" href="#ongoing-req" role="tab" aria-controls="your-req"
                    aria-selected="false">Ongoing</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" id="completed-req-tab" data-toggle="tab" href="#completed-req" role="tab"
                    aria-controls="completed-req" aria-selected="false">Completed</a>
            </li>
        </ul>

        <!-- request tab content -->
        <div class="tab-content" id="request-tab-content">

            <!-- my requests -->
            <div class="tab-pane fade" id="my-req" role="tabpanel" aria-labelledby="your-req-tab">
                <div class="request-list" *ngIf="this.myRequests">
                    <div *ngFor="let request of this.myRequests " class="request-area">
                        <app-request-listing-card [requestDetails]="request"></app-request-listing-card>
                    </div>
                </div>
            </div>

            <!-- all requests -->
            <div class="tab-pane fade" id="all-req" role="tabpanel" aria-labelledby="all-req-tab">
                <div class="request-list" *ngIf="this.allRequests">
                    <div *ngFor="let request of this.allRequests " class="request-area">
                        <app-request-listing-card [requestDetails]="request"></app-request-listing-card>
                    </div>
                </div>
            </div>

            <!-- avtive requests -->
            <div class="tab-pane fade show active" id="active-req" role="tabpanel" aria-labelledby="available-req-tab">
                <div class="request-list" *ngIf="this.activeRequests">
                    <div *ngFor="let request of this.activeRequests " class="request-area">
                        <app-request-listing-card [requestDetails]="request"></app-request-listing-card>
                    </div>
                </div>
            </div>

            <!-- ongoing requests -->
            <div class="tab-pane fade" id="ongoing-req" role="tabpanel" aria-labelledby="your-req-tab">
                <div class="request-list" *ngIf="this.ongoingRequests">
                    <div *ngFor="let request of this.ongoingRequests " class="request-area">
                        <app-request-listing-card [requestDetails]="request"  ></app-request-listing-card>
                    </div>
                </div>
            </div>

            <!-- completed requests -->
            <div class="tab-pane fade" id="completed-req" role="tabpanel" aria-labelledby="completed-req-tab"> 
                <div class="request-list" *ngIf="this.completedRequests">
                    <div *ngFor="let request of this.completedRequests" class="request-area">
                        <app-request-listing-card [requestDetails]="request"  ></app-request-listing-card>
                    </div>
                </div>
            </div>

        </div>

        
    </div>

</div>
